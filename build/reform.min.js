!function t(e,s,i){function o(n,l){if(!s[n]){if(!e[n]){var a="function"==typeof require&&require;if(!l&&a)return a(n,!0);if(r)return r(n,!0);throw new Error("Cannot find module '"+n+"'")}var h=s[n]={exports:{}};e[n][0].call(h.exports,function(t){var s=e[n][1][t];return o(s?s:t)},h,h.exports,t,e,s,i)}return s[n].exports}for(var r="function"==typeof require&&require,n=0;n<i.length;n++)o(i[n]);return o}({1:[function(t,e){(function(){var s,i,o=function(t,e){return function(){return t.apply(e,arguments)}};null==window.$&&(window.$=t("jquery-commonjs")),i=t("./cache"),s=function(){function t(t,e){var s;this.select=t,this.refreshState=o(this.refreshState,this),this.options={url:null,dataType:"json",max:1e3,minChars:0,delay:0,caseSensitive:!1,highlightTitles:!0,highlightSelection:!0,showArrows:!0,hyphenate:!0,exactMatch:!1,title:null,placeholderText:"Type to search...",reformClass:"reform-autocomplete",uiClass:"reform-autocomplete-ui",fakeClass:"reform-autocomplete-fake",filterClass:"reform-autocomplete-filter",emptyClass:"reform-autocomplete-empty",disabledClass:"disabled",arrowDownClass:"arrow-down",arrowUpClass:"arrow-up",hoverClass:"hover",selectedClass:"selected",floaterClass:"reform-floater",listClass:"reform-floater-list",itemClass:"reform-floater-item",overlayClass:"reform-floater-overlay"},this.orig=$(this.select),this.orig.is(".reformed")||(s=this.orig.data(),$.extend(this.options,e),$.extend(this.options,s),this.options.extraParams&&(this.options.customParams=this.options.extraParams),this.options.matchCase&&(this.options.caseSensitive=this.options.matchCase),this.options.colorTitle&&(this.options.highlightTitles=this.options.colorTitle),this.options.matchAll&&(this.options.exactMatch=this.options.matchAll),this.options.placeholder&&(this.options.placeholderText=this.options.placeholder),this.options.arrow&&(this.options.showArrows=this.options.arrow),this.data=[],this.filterValue=null!=this.options.title?this.options.title:"",this.selectedItem=0===this.orig.val().length?{value:null,title:""}:{value:this.orig.val(),title:this.options.title},null!=this.options.url&&(this.cache=new i(this.options)),this.el=null,this.floater=null,this.list=null,this.filter=null,this.customClass=null,this.initCustomClass(),this.el=this.createClosed(),this.orig.hide().attr("class","reformed"),this.orig.after(this.el).appendTo(this.el),$("body").on("reform.open",function(t){return function(e){return e.target!==t.select?t.close():void 0}}(this)),this.orig.on("reform.sync change DOMSubtreeModified",function(t){return function(){return setTimeout(t.refreshState,0)}}(this)),this.orig.on("reform.close",function(t){return function(){return t.close()}}(this)),this.orig.on("reform.fill",function(t){return function(e,s){return t.handleDataFill(s)}}(this)),this.el.on("filterChanged",function(t){return function(){return t.handleFilterChanged()}}(this)),this.el.on("selectedItemChanged",function(t){return function(){return t.handleSelectionChanged()}}(this)),this.refreshState())}return t.prototype.KEY={UP:38,DOWN:40,DEL:46,RETURN:13,ESC:27,PAGEUP:33,PAGEDOWN:34},t.prototype.initCustomClass=function(){var t;return t=this.orig.attr("class"),this.customClass=t.replace(this.options.reformClass,""),this.customClass=this.customClass.trim()},t.prototype.handleSelectionChanged=function(){return this.orig.val(this.selectedItem.value),this.orig.data("title",this.selectedItem.title),this.orig.trigger("change",this.selectedItem)},t.prototype.handleDataFill=function(t){return this.options.url?void 0:(this.close(),this.data=this.parse(t))},t.prototype.handleFilterChanged=function(){return this.floater?this.getData(function(t){return function(e){var s;return s=t.createList(e),t.insertList(s)}}(this)):void 0},t.prototype.handleDisabledToggle=function(){return this.orig.is(":disabled")&&!this.el.hasClass(":disabled")?(this.close(),this.el.addClass(this.options.disabledClass)):this.orig.is(":disabled")||this.el.hasClass(":disabled")?void 0:this.el.removeClass(this.options.disabledClass)},t.prototype.setFilterValue=function(t){var e;return e=this.filterValue,this.filterValue=t,this.el.trigger("filterChanged",{oldValue:e,newValue:this.filterValue})},t.prototype.setSelectedItem=function(t){return this.selectedItem=t,this.el.trigger("selectedItemChanged",t)},t.prototype.refreshState=function(){return this.handleDisabledToggle()},t.prototype.createClosed=function(){var t;return t=$("<div/>"),t.addClass("reform"),t.addClass(this.customClass),t.addClass(this.options.uiClass),t.addClass(this.options.fakeClass),this.orig.is(":disabled")&&t.addClass(this.options.disabledClass),this.options.showArrows&&t.addClass(this.options.arrowDownClass),t},t.prototype.createFloater=function(){var t;return t=$("<div/>"),t.addClass("reform"),t.addClass(this.customClass),t.addClass(this.options.uiClass),t.addClass(this.options.floaterClass),t.css("min-width",this.el.outerWidth())},t.prototype.createFilter=function(){var t;return t=$("<input/>"),t.addClass(this.options.filterClass),this.orig.is(":disabled")&&t.attr("disabled","disabled"),null!=this.options.placeholderText&&t.attr("placeholder",this.options.placeholderText),t.on("blur",function(t){return function(){return t.handleFilterBlur()}}(this)),t.on("keyup.autocomplete",function(t){return function(e){return t.handleKeyUp(e)}}(this)),t.on("keydown.autocomplete",function(t){return function(e){return t.handleKeyDown(e)}}(this)),t},t.prototype.handleFilterBlur=function(){},t.prototype.createEmptyList=function(){var t;return t=$("<div></div>"),t.addClass(this.options.listClass),t},t.prototype.createList=function(t){var e,s,i,o,r,n;if(s=this.createEmptyList(),t){for(i=0,r=0,n=t.length;n>r;r++)o=t[r],this.options.max>i&&(e=this.createItem(o),e.appendTo(s)),i++;return s}},t.prototype.createItem=function(t){var e,s,i,o,r,n;return e=$("<div></div>"),e.addClass(this.options.itemClass),e.data("title",t.title),e.data("value",t.value),t.tooltip&&e.attr("title",t.tooltip),t.disabled&&e.addClass(this.options.disabledClass),o=t.title.toLowerCase().indexOf(this.filterValue.toLowerCase()),this.options.highlightTitles&&0!==this.filterValue.length&&-1!==o?(r=t.title.substring(o,o+this.filterValue.length),i=t.title.substring(0,o),n=t.title.substring(o+this.filterValue.length,t.title.length),s="<strong>"+this.hyphenate(r)+"</strong>",e.html(this.hyphenate(i)+s+this.hyphenate(n))):e.html(this.hyphenate(t.title)),this.options.highlightSelection&&null!=this.selectedItem.value&&t.value===this.selectedItem.value&&e.addClass(this.options.selectedClass),e.on("mousedown",function(t){return t.preventDefault()}),e.on("click",function(t){return function(e){return t.handleItemSelect($(e.target))}}(this)),e.on("mouseenter",function(t){return function(e){return t.setHover($(e.target))}}(this)),e},t.prototype.handleItemSelect=function(t){return 0===t.length||t.hasClass(this.options.disabledClass)?void 0:(t.is("strong")&&(t=t.closest("div")),this.options.highlightSelection&&(this.list.children().removeClass(this.options.selectedClass),t.addClass(this.options.selectedClass)),this.setSelectedItem({value:t.data("value"),title:t.data("title")}),this.close())},t.prototype.insertList=function(t){return this.floater?(this.list.empty(),this.list.append(t.children()),0===this.list.children().length&&this.handleEmptyList(),this.list):void 0},t.prototype.handleEmptyList=function(){return this.close()},t.prototype.open=function(){var t,e;if(null==this.floater&&!this.el.hasClass(this.options.disabledClass))return this.orig.trigger("reform.open"),this.floater=this.createFloater(),e=$("<div></div>"),e.addClass("reform"),e.addClass(this.options.overlayClass),e.addClass(this.customClass),e.one("click",function(t){return function(){return t.close()}}(this)),this.list=this.createEmptyList(),this.list.appendTo(this.floater),this.floater.css(this.getFloaterPosition()),t=$("body"),t.append(e),t.append(this.floater),this.getData(function(t){return function(e){var s;return s=t.createList(e),t.insertList(s)}}(this))},t.prototype.close=function(){return this.floater?(this.floater.siblings("."+this.options.overlayClass).remove(),this.floater.remove(),this.floater=null,this.list=null,this.filterValue="",this.orig.trigger("reform.closed")):void 0},t.prototype.cancelChanges=function(){return this.filterValue=this.selectedItem.title,this.filter.val(this.filterValue),this.el.trigger("selectedItemChanged",this.selectedItem)},t.prototype.handleKeyDown=function(t){if(!this.orig.is(":disabled"))switch(t.keyCode===this.KEY.UP&&t.preventDefault(),t.keyCode){case this.KEY.DOWN:return this.moveHover("down");case this.KEY.UP:return this.moveHover("up");case this.KEY.ESC:if(null!=this.floater)return t.preventDefault();break;case this.KEY.RETURN:return null!=this.floater&&t.preventDefault(),this.handleReturnKeyPress()}},t.prototype.handleKeyUp=function(t){if(!this.orig.is(":disabled"))switch(t.keyCode){case this.KEY.DOWN:case this.KEY.UP:case this.KEY.RETURN:break;case this.KEY.ESC:return this.cancelChanges(),this.close();default:return this.setFilterValue(this.filter.val()),this.orig.val(this.filter.val()),this.orig.trigger("keyup",t)}},t.prototype.handleReturnKeyPress=function(){var t;return null!=this.floater&&(t=this.list.find("."+this.options.hoverClass),this.handleItemSelect(t)),t},t.prototype.moveHover=function(t){var e,s;return null==t&&(t="down"),this.floater?(e=this.list.find("."+this.options.hoverClass),0===e.length?s=this.list.find("."+this.options.itemClass+":first-child"):"down"===t?s=e.next():"up"===t&&(s=e.prev()),0!==s.length?(this.setHover(s),this.scrollTo(s)):void 0):void 0},t.prototype.scrollTo=function(t){var e,s,i;if(this.floater)return e=t.parent(),s=t.offset().top-e.offset().top+e.scrollTop(),s>e.outerHeight()-t.outerHeight()?(i=s-e.outerHeight()+t.outerHeight(),e.scrollTop(i)):e.scrollTop(0)},t.prototype.setHover=function(t){var e;if(this.floater)return e=this.list.find("."+this.options.itemClass),e.removeClass(this.options.hoverClass),t.addClass(this.options.hoverClass)},t.prototype.getFloaterPosition=function(){return this.el.offset()},t.prototype.hyphenate=function(t){var e,s,i,o,r,n;if(!this.options.hyphenate)return t;for(o="&shy;",s=t.split(""),i="",r=0,n=s.length;n>r;r++)e=s[r],i+=0===i.length||" "===e||"-"===e?e:o+e;return i},t.prototype.parse=function(t){var e;return e=[],$.each(t,function(t){return function(s,i){return e.push({value:i.value,title:t.options.formatResult&&t.options.formatResult(i)||i.title,tooltip:null!=i.tooltip?i.tooltip:null,disabled:null!=i.disabled?i.disabled:null})}}(this)),e},t.prototype.getData=function(t){var e;if(t)return this.options.url?this.loadDataFromUrl(t):(e=this.filterData(),t(e))},t.prototype.filterData=function(){var t,e,s,i,o,r,n;for(e=[],n=this.data,o=0,r=n.length;r>o;o++)s=n[o],this.options.exactMatch||null==this.filterValue?e.push(s):(i=s.title,t=this.filterValue,this.options.caseSensitive||(i=i.toLowerCase(),t=t.toLowerCase()),-1!==i.indexOf(t)&&e.push(s));return e},t.prototype.loadDataFromUrl=function(t){var e,s,i,o,r,n,l,a,h,u;if(e=this.filterValue,i=this.cache.load(e),null!=i)return void t(i);if(l={q:e,matchCase:this.options.caseSensitive,limit:this.options.max,timeStamp:new Date},null!=this.options.customParams){for(s=[],u=this.options.customParams,n=a=0,h=u.length;h>a;n=++a)r=u[n],s[r]="function"==typeof n?n():n;$.extend(l,s)}return o=function(s){return function(){return s.fetchData(l,function(i){var o;return o=s.parse(i),s.cache.add(e,o),null!=t?t(o):void 0})}}(this),clearTimeout(this.fetchTimeout),this.fetchTimeout=setTimeout(o,this.options.delay)},t.prototype.fetchData=function(t,e){return this.ajaxInProgress&&this.lastXHR.abort(),this.ajaxInProgress=!0,this.orig.trigger("ajaxRequestStarted"),this.lastXHR=$.ajax({dataType:this.options.dataType,url:this.options.url,data:t,success:function(t){return function(s){return t.ajaxInProgress=!1,t.orig.trigger("ajaxRequestFinished"),e(s)}}(this),error:function(t){return function(e){return t.ajaxInProgress=!1,t.orig.trigger("ajaxRequestFinished"),console.log(e)}}(this)})},t}(),e.exports=s}).call(this)},{"./cache":4,"jquery-commonjs":11}],2:[function(t,e){(function(){var s,i,o=function(t,e){return function(){return t.apply(e,arguments)}},r={}.hasOwnProperty,n=function(t,e){function s(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t};null==window.$&&(window.$=t("jquery-commonjs")),s=t("./autocomplete_abstract"),i=function(t){function e(t,s){this.select=t,this.handleDisabledToggle=o(this.handleDisabledToggle,this),this.options=$.extend({showArrows:!1,reformClass:"reform-autocompletebox",uiClass:"reform-autocompletebox-ui"},s),e.__super__.constructor.call(this,this.select,this.options),this.el&&(this.filter=this.createFilter(),null!=this.selectedItem.value&&this.filter.val(this.selectedItem.title),this.el.append(this.filter))}return n(e,t),e.prototype.handleSelectionChanged=function(){return this.filter.val(this.selectedItem.title),e.__super__.handleSelectionChanged.apply(this,arguments)},e.prototype.handleDisabledToggle=function(){return e.__super__.handleDisabledToggle.apply(this,arguments),this.filter?this.orig.is(":disabled")&&!this.filter.is(":disabled")?this.filter.attr("disabled","disabled"):this.filter.removeAttr("disabled"):void 0},e.prototype.createClosed=function(){var t;return t=e.__super__.createClosed.apply(this,arguments),t.on("click",function(t){return function(){return!t.floater&&t.filter.val().length>t.options.minChars?(t.open(),t.filter.focus()):void 0}}(this)),t},e.prototype.handleFilterBlur=function(){return this.setSelectedItemByCurrentFilterValue(),this.close(),e.__super__.handleFilterBlur.apply(this,arguments)},e.prototype.open=function(){return this.filterValue=this.filter.val(),e.__super__.open.apply(this,arguments),this.handleArrowsToggle()},e.prototype.close=function(){return e.__super__.close.apply(this,arguments),this.handleArrowsToggle()},e.prototype.handleReturnKeyPress=function(){var t;return t=e.__super__.handleReturnKeyPress.apply(this,arguments),t&&0!==t.length?void 0:(this.setSelectedItemByCurrentFilterValue(),this.close())},e.prototype.handleArrowsToggle=function(){return this.options.showArrows?null!=this.floater?(this.el.removeClass(this.options.arrowDownClass),this.el.addClass(this.options.arrowUpClass)):(this.el.removeClass(this.options.arrowUpClass),this.el.addClass(this.options.arrowDownClass)):void 0},e.prototype.handleKeyUp=function(t){return t.keyCode!==this.KEY.RETURN?this.filter.val().length>this.options.minChars?(null==this.floater&&this.open(),e.__super__.handleKeyUp.apply(this,arguments)):null!=this.floater?void this.close():void(t.keyCode===this.KEY.ESC&&this.cancelChanges()):void 0},e.prototype.getFloaterPosition=function(){var t;return t=e.__super__.getFloaterPosition.apply(this,arguments),t.top+=this.el.outerHeight(),t},e.prototype.setSelectedItemByCurrentFilterValue=function(){var t;return this.selectedItem.title!==this.filter.val()?(t=this.filter.val(),this.getData(function(e){return function(s){var i,o,r,n,l,a;if(r=null,0!==t.length)for(l=0,a=s.length;a>l;l++)i=s[l],e.options.caseSensitive?(o=i.title,n=t):(o=i.title.toLowerCase(),n=t.toLowerCase()),r||o!==n||(r=i);return e.setSelectedItem(null!=r?{value:r.value,title:r.title}:{value:null,title:t})}}(this))):void 0},e}(s),e.exports=i}).call(this)},{"./autocomplete_abstract":1,"jquery-commonjs":11}],3:[function(t,e){(function(){var s,i,o={}.hasOwnProperty,r=function(t,e){function s(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t};null==window.$&&(window.$=t("jquery-commonjs")),s=t("./autocomplete_abstract"),i=function(t){function e(t,s){var i;this.select=t,this.options=$.extend({emptySelectionText:"Select an item...",emptyText:"No results.",reformClass:"reform-autocompletecombobox",uiClass:"reform-autocompletecombobox-ui",floaterLabelClass:"reform-autocomplete-floater-label",titleClass:"selected-item",placeholderClass:"placeholder"},s),e.__super__.constructor.call(this,this.select,this.options),this.el&&(this.filterValue="",i=this.createTitle(),null!=this.selectedItem.value&&(i.text(this.selectedItem.title),i.removeClass(this.options.placeholderClass)),this.el.append(i))}return r(e,t),e.prototype.handleSelectionChanged=function(){var t;return t=this.el.find("span"),null!=this.selectedItem.value&&(t.text(this.selectedItem.title),t.removeClass(this.options.placeholderClass)),e.__super__.handleSelectionChanged.apply(this,arguments)},e.prototype.createClosed=function(){var t;return t=e.__super__.createClosed.apply(this,arguments),t.on("click",function(t){return function(){return t.open()}}(this)),t},e.prototype.createTitle=function(){var t;return t=$("<span></span>"),t.addClass(this.options.titleClass),t.text(null!=this.options.emptySelectionText)&&(t.addClass(this.options.placeholderClass),t.text(this.options.emptySelectionText)),t},e.prototype.createFloaterLabel=function(){var t;return t=$("<span></span>"),t.addClass(this.options.floaterLabelClass),this.options.showArrows&&t.addClass(this.options.arrowUpClass),t.text(this.selectedItem.value?this.selectedItem.title:this.options.emptySelectionText),t.one("click",function(t){return function(){return t.close()}}(this)),t},e.prototype.createNoResults=function(){var t;return t=$("<div></div>"),t.addClass(this.options.emptyClass),t.text(this.options.emptyText)},e.prototype.handleEmptyList=function(){return this.list.append(this.createNoResults())},e.prototype.open=function(){var t;return e.__super__.open.apply(this,arguments),t=this.createFloaterLabel(),t.insertBefore(this.list),this.filter=this.createFilter(),this.filter.insertBefore(this.list),this.filter.focus()},e}(s),e.exports=i}).call(this)},{"./autocomplete_abstract":1,"jquery-commonjs":11}],4:[function(t,e){(function(){var s,i=function(t,e){return function(){return t.apply(e,arguments)}};null==window.$&&(window.$=t("jquery-commonjs")),s=function(){function t(t){this.load=i(this.load,this),$.extend(this.options,t)}return t.prototype.data={},t.prototype.length=0,t.prototype.options={cacheLength:100,matchContains:!1,matchSubset:!0},t.prototype.matchSubset=function(t,e){var s;return this.options.matchCase||(t=t.toLowerCase()),s=t.indexOf(e),"word"===this.options.matchContains&&(s=t.toLowerCase().search("\\b"+e.toLowerCase())),-1===s?!1:0===s||this.options.matchContains},t.prototype.add=function(t,e){return this.length>this.options.cacheLength&&flush(),this.data[t]||this.length++,this.data[t]=e},t.prototype.flush=function(){return this.data={},this.length=0},t.prototype.load=function(t){var e,s,i,o;if(!this.options.cacheLength||!this.length)return null;if(this.data[t])return this.data[t];if(this.options.matchSubset)for(i=t.length-1;i>=this.options.minChars;){if(e=this.data[t.substr(0,i)])return s=[],o=this,$.each(e,function(e,i){return o.matchSubset(i.title,t)?s[s.length]=i:void 0}),s;i--}return null},t}(),e.exports=s}).call(this)},{"jquery-commonjs":11}],5:[function(t,e){(function(){var s,i=function(t,e){return function(){return t.apply(e,arguments)}};null==window.$&&(window.$=t("jquery-commonjs")),s=function(){function t(t){this.refresh=i(this.refresh,this),this.orig=$(t),this.orig.is(".reformed")||(this.orig.is(":radio")&&(this.siblings=$("[name='"+this.orig.attr("name")+"']").not(this.orig)),this.fake=$("<label/>"),this.fake.attr("class",this.orig.attr("class")),this.orig.hide().attr("class","reformed"),this.fake.removeClass("reform-checkbox").addClass("reform-checkbox-fake"),this.fake.addClass("reform"),this.fake.addClass("reform-checkbox-ui"),this.orig.is(":checked")&&this.fake.addClass("checked"),this.orig.is(":disabled")&&this.fake.addClass("disabled"),this.orig.is(":radio")&&this.fake.addClass("radio"),this.orig.after(this.fake).appendTo(this.fake),this.fake.on("mousedown",function(t){return t.preventDefault()}),this.orig.on("reform.sync change DOMSubtreeModified",function(t){return function(){return setTimeout(t.refresh,0)}}(this)))}return t.prototype.refresh=function(){var t;return this.fake.toggleClass("disabled",this.orig.is(":disabled")),this.fake.removeClass("checked"),this.orig.is(":checked")&&this.fake.addClass("checked"),this.fake.trigger("reform-checkbox-attribute-change",this.fake.hasClass("checked")),this.orig.is(":checked")&&null!=(t=this.siblings)?t.each(function(){return $(this).parent().removeClass("checked")}):void 0},t}(),e.exports=s}).call(this)},{"jquery-commonjs":11}],6:[function(t){(function(){var e,s;e=t("./reform"),s=new e,s.observe(),window.Reform=s}).call(this)},{"./reform":8}],7:[function(t,e){(function(){var s,i,o={}.hasOwnProperty,r=function(t,e){function s(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t};null==window.$&&(window.$=t("jquery-commonjs")),i=t("./selectbox_abstract"),s=function(t){function e(t,s){this.options=$.extend({noSelectionText:"Select an item",reformClass:"reform-multilineselectbox",uiClass:"reform-multilineselectbox-ui"},s),e.__super__.constructor.call(this,t,this.options)}return r(e,t),e.prototype.createItemContent=function(t){var e,s,i;return i=$("<p></p>"),i.text(t.text()),i.appendTo(s),e=$("<span></span>"),e.text(t.data("desc")),e.appendTo(s),s=i.add(e)},e.prototype.createClosedItem=function(){var t,e,s,i,o,r;return s=this.orig.find("option").filter(function(){return this.selected}),null!=s?(r=s.text(),o=s.data("desc")):r=this.options.noSelectionText,i=$("<p></p>"),i.text(r),o?(e=$("<span></span>"),e.text(o),t=i.add(e)):t=i,t},e}(i),e.exports=s}).call(this)},{"./selectbox_abstract":10,"jquery-commonjs":11}],8:[function(t,e){(function(){var s,i,o,r,n,l;null==window.$&&(window.$=t("jquery-commonjs")),o=t("./checkbox"),l=t("./selectbox"),r=t("./multilineselectbox"),s=t("./autocompletebox"),i=t("./autocompletecombobox"),n=function(){function t(){}var e;return e=[],t.prototype.process=function(s){var i,o,r,n,l,a;l=t.controls,a=[];for(i in l)o=l[i],a.push(function(){var t,l,a,h;for(a=$(s).parent().find("."+i),h=[],t=0,l=a.length;l>t;t++)r=a[t],"reform-selectbox"===i||"reform-multilineselectbox"===i?(n=new o(r),h.push(e.push(n))):h.push(new o(r));return h}());return a},t.prototype.observe=function(){return $(document).on("ready",function(t){return function(){return t.process("body")}}(this)),$(document).on("DOMNodeInserted",function(t){return function(e){return t.process(e.target)}}(this)),$(window).resize(function(t){return function(){return t.refresh()}}(this))},t.prototype.register=function(e,s){return t.controls[e]=s},t.prototype.refresh=function(){var t,s,i,o;for(o=[],s=0,i=e.length;i>s;s++)t=e[s],o.push(t.positionFloater());return o},t}(),n.controls={"reform-checkbox":o,"reform-selectbox":l,"reform-multilineselectbox":r,"reform-autocompletebox":s,"reform-autocompletecombobox":i},e.exports=n}).call(this)},{"./autocompletebox":2,"./autocompletecombobox":3,"./checkbox":5,"./multilineselectbox":7,"./selectbox":9,"jquery-commonjs":11}],9:[function(t,e){(function(){var s,i,o={}.hasOwnProperty,r=function(t,e){function s(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t};i=t("./selectbox_abstract"),s=function(t){function e(t,s){this.select=t,this.options=$.extend({reformClass:"reform-selectbox",uiClass:"reform-selectbox-ui"},s),e.__super__.constructor.call(this,this.select,this.options)}return r(e,t),e.prototype.createItemContent=function(t){return t.text()},e.prototype.createClosedItem=function(){var t,e,s;return e=this.orig.find("option").filter(function(){return this.selected&&"no"!==$(this).data("count-option")}),t=this.orig.data("plural"),s=null!=t&&e.length>1?""+e.length+" "+t:e.map(function(){return $(this).text()}).get().join(", "),s||(s=this.orig.attr("title")),null==s&&(s="Select"),s},e}(i),e.exports=s}).call(this)},{"./selectbox_abstract":10}],10:[function(t,e){(function(){var s,i=function(t,e){return function(){return t.apply(e,arguments)}};null==window.$&&(window.$=t("jquery-commonjs")),s=function(){function t(t,e){var s,o;this.select=t,this.positionFloater=i(this.positionFloater,this),this.refresh=i(this.refresh,this),this.close=i(this.close,this),this.open=i(this.open,this),this.createOptions=i(this.createOptions,this),this.orig=$(this.select),this.options=$.extend({fakeClass:"reform-selectbox-fake"},e),this.orig.is(".reformed")||(this.body=$("body"),this.fake=$("<div/>"),this.fake.attr("tabindex",0),this.fake.addClass("closed"),o=this.orig.attr("class"),this.customClass=o.replace(this.options.reformClass,""),this.customClass=this.customClass.trim(),this.fake.addClass("reform").addClass(this.customClass).addClass(this.options.fakeClass).addClass(this.options.uiClass),this.orig.is(":disabled")&&this.fake.addClass("disabled"),this.orig.hide().attr("class","reformed"),s=$("<div></div>"),s.addClass("selected-item"),s.appendTo(this.fake),this.refresh(),this.orig.after(this.fake).appendTo(this.fake),this.fake.on("keyup",function(){return function(t){return 27===t.keyCode?(t.preventDefault(),t.stopPropagation()):void 0}}(this)),this.fake.on("keydown",function(t){return function(e){var s,i,o,r,n,l,a,h;if(e.preventDefault(),e.stopPropagation(),!t.orig.is("[multiple]")){if(t.fake.focus(),l=38===e.keyCode,n=40===e.keyCode,l||n)return null==t.floater?t.open():(s=0===$(".hover",t.floater).length?$(".selected",t.floater):$(".hover",t.floater),o=l?0===s.prev().length?s.parent().children().last():s.prev():0===s.next().length?s.parent().children().first():s.next(),t.hover(o),t.scrollTo(o));if(13===e.keyCode){if(i=$(t.floater).find(".hover"),a=0===i.length,h=i.is(".disabled"),a||h)return;return i.siblings().andSelf().removeClass("selected"),i.addClass("selected"),t.orig.val(t.value()).trigger("change"),t.close()}return 27!==e.keyCode?(r=!1,t.$list.children().each(function(s,i){return r||$(i).text().charAt(0).toLowerCase()!==String.fromCharCode(e.keyCode).toLowerCase()?void 0:(r=!0,t.hover($(i)),t.scrollTo($(i)))})):null!=t.floater?t.close():void 0}}}(this)),this.floater=null,this.fake.on("click",function(t){return function(e){return t.orig.is(":disabled")?void 0:(e.stopPropagation(),null===t.floater?t.open():t.close())}}(this)),this.fake.on("mousedown",function(t){return t.preventDefault()}),this.orig.on("reform.sync change DOMSubtreeModified",this.refresh),this.body.on("reform.open",function(t){return function(e){return e.target!==t.select?t.close():void 0}}(this)))}return t.prototype.hover=function(t){return t.siblings().andSelf().removeClass("hover"),t.addClass("hover")},t.prototype.scrollTo=function(t){var e,s,i;return e=t.parent(),s=t.offset().top-e.offset().top+e.scrollTop(),this.ignoreMouse=!0,s>e.outerHeight()-t.outerHeight()?(i=s-e.outerHeight()+t.outerHeight(),e.scrollTop(i)):e.scrollTop(0),this.to&&clearTimeout(this.to),this.to=setTimeout(function(t){return function(){return t.ignoreMouse=!1}}(this),500)},t.prototype.createOptions=function(){var t;if(null!=this.floater)return this.fake.focus(),this.floater.empty(),this.height=$(document).height(),this.width=$(document).width(),this.$list=$("<div/>").appendTo(this.floater),this.$list.attr("class","reform-floater-list"),this.$list.addClass(this.options.uiClass),this.textMultiple="",t=$("<div/>"),t.addClass("reform-floater-item selected"),this.listMultiple=[],this.selectBoxTitle=this.orig.data("title"),this.orig.find("option").each(function(t){return function(e,s){var i,o,r;return r=$(s),i=$("<div/>"),r.is(":selected")&&i.addClass("selected"),r.is(":disabled")&&i.addClass("disabled"),i.addClass("reform-floater-item"),i.attr("title",r.attr("title")),i.attr("value",r.val()),i.append(t.createItemContent(r)),r.is(":selected")&&(t.orig.is("[multiple]")?t.listMultiple.push(r.html()):(i.addClass("selected"),t.selectBoxTitle&&(o=i.clone(),o.addClass(t.attributeType),o.prependTo(t.$list)))),i.appendTo(t.$list),i.on("mousedown",function(t){return t.preventDefault()}),i.hover(function(){return t.ignoreMouse?void 0:t.hover(i)}),i.on("click",function(e){return i.is(".disabled")?void 0:(t.orig.is("[multiple]")?(i.toggleClass("selected"),e.stopPropagation()):(i.siblings().andSelf().removeClass("selected"),i.addClass("selected")),t.orig.val(t.value()).trigger("change"))})}}(this)),this.selectBoxTitle&&this.listMultiple.length>0&&(t.html(this.listMultiple.join(", ")),t.prependTo(this.$list)),this.$list.on("mousewheel DOMMouseScroll",function(t){var e,s;return s=t.originalEvent,e=s.wheelDelta||-s.detail,this.scrollTop+=30*(0>e?1:-1),t.preventDefault()})},t.prototype.value=function(){return this.$list.find(".reform-floater-item.selected").map(function(){return $(this).val()})},t.prototype.open=function(){return this.orig.trigger("reform.open"),this.floater=$("<div/>"),this.floater.css("min-width",this.fake.outerWidth()),this.floater.addClass("reform-floater reform reform-floater-ui").addClass(this.customClass).addClass(this.orig.data("floater-class")).addClass(this.options.uiClass).addClass("reform-"+this.options.theme),this.body.append(this.floater),this.createOptions(),this.body.one("click",this.close),this.floater.show(),this.positionFloater(),this.fake.addClass("opened"),this.fake.removeClass("closed")},t.prototype.close=function(){var t;return null!=(t=this.floater)&&t.remove(),this.floater=null,this.fake.removeClass("opened"),this.fake.addClass("closed"),this.orig.is(":disabled")?void 0:this.fake.removeClass("disabled")},t.prototype.refresh=function(){var t,e;return this.fake.toggleClass("disabled",this.orig.is(":disabled")),t=this.fake.find(".selected-item"),t.empty(),this.orig.data("title")?t.append(this.orig.data("title")):(e=this.createClosedItem(),t.append(e)),this.createOptions()},t.prototype.positionFloater=function(){var t,e;return null!=this.floater&&(t=this.fake.offset(),t.top+this.floater.outerHeight()>this.height?(t.top=t.top-this.floater.outerHeight(),this.orig.data("shift")&&(e=t.top-parseInt(this.orig.data("shift")),t.top-=1)):(t.top=t.top+this.fake.outerHeight(),this.orig.data("shift")&&(e=t.top+parseInt(this.orig.data("shift")),t.top+=1)),t.left+this.floater.outerWidth()>this.width&&(t.left=t.left-this.floater.outerWidth()+this.fake.outerWidth()),this.floater.css(t),this.orig.data("shift"))?this.floater.animate({top:e},200):void 0},t}(),e.exports=s}).call(this)},{"jquery-commonjs":11}],11:[function(){},{}]},{},[6]);